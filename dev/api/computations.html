

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Computations &mdash; reikna 0.3.0+dev.61e7260 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3.0+dev.61e7260',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="reikna 0.3.0+dev.61e7260 documentation" href="../index.html" />
    <link rel="up" title="API reference" href="index.html" />
    <link rel="next" title="Transformations" href="transformations.html" />
    <link rel="prev" title="Core classes" href="core.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="transformations.html" title="Transformations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="core.html" title="Core classes"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">reikna 0.3.0+dev.61e7260 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-reikna.matrixmul">
<span id="computations"></span><h1>Computations<a class="headerlink" href="#module-reikna.matrixmul" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="reikna.matrixmul.MatrixMul">
<em class="property">class </em><tt class="descclassname">reikna.matrixmul.</tt><tt class="descname">MatrixMul</tt><big>(</big><em>ctx</em>, <em>debug=False</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#reikna.matrixmul.MatrixMul" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplies two matrices using last two dimensions and batching over remaining dimensions.
For batching to work, the products of remaining dimensions should be equal
(then the multiplication will be performed piecewise), or one of them should equal 1
(then the multiplication will be batched over the remaining dimensions of the other matrix).</p>
<dl class="method">
<dt id="reikna.matrixmul.MatrixMul.prepare_for">
<tt class="descname">prepare_for</tt><big>(</big><em>out</em>, <em>a</em>, <em>b</em><big>)</big><a class="headerlink" href="#reikna.matrixmul.MatrixMul.prepare_for" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>out</strong> &#8211; buffer for the result</li>
<li><strong>a</strong> &#8211; first matrix (if it is a vector, it will be reshaped to a matrix with one row)</li>
<li><strong>b</strong> &#8211; second matrix</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-reikna.elementwise"></span><dl class="class">
<dt id="reikna.elementwise.Elementwise">
<em class="property">class </em><tt class="descclassname">reikna.elementwise.</tt><tt class="descname">Elementwise</tt><big>(</big><em>ctx</em>, <em>debug=False</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#reikna.elementwise.Elementwise" title="Permalink to this definition">¶</a></dt>
<dd><p>A general class for elementwise computations.</p>
<dl class="method">
<dt id="reikna.elementwise.Elementwise.set_argnames">
<tt class="descname">set_argnames</tt><big>(</big><em>outputs</em>, <em>inputs</em>, <em>scalars</em><big>)</big><a class="headerlink" href="#reikna.elementwise.Elementwise.set_argnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Set argument names for the computation.
This method should be called first after the creation of the
<a class="reference internal" href="#reikna.elementwise.Elementwise" title="reikna.elementwise.Elementwise"><tt class="xref py py-class docutils literal"><span class="pre">Elementwise</span></tt></a> object.
Returns <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.elementwise.Elementwise.prepare_for">
<tt class="descname">prepare_for</tt><big>(</big><em>*args</em>, <em>code=EMPTY</em><big>)</big><a class="headerlink" href="#reikna.elementwise.Elementwise.prepare_for" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> &#8211; arrays and scalars, according to the lists passed to <a class="reference internal" href="#reikna.elementwise.Elementwise.set_argnames" title="reikna.elementwise.Elementwise.set_argnames"><tt class="xref py py-meth docutils literal"><span class="pre">set_argnames()</span></tt></a>.</li>
<li><strong>code</strong> &#8211; kernel code.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="reikna.elementwise.specialize_elementwise">
<tt class="descclassname">reikna.elementwise.</tt><tt class="descname">specialize_elementwise</tt><big>(</big><em>outputs</em>, <em>inputs</em>, <em>scalars</em>, <em>code</em><big>)</big><a class="headerlink" href="#reikna.elementwise.specialize_elementwise" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an Elementwise class specialized for given argument names and code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outputs</strong> &#8211; a string or a list of strings with output argument names.</li>
<li><strong>inputs</strong> &#8211; a string or a list of strings with input argument names.</li>
<li><strong>scalars</strong> &#8211; <tt class="docutils literal"><span class="pre">None</span></tt>, a string, or a list of strings with scalar argument names.</li>
<li><strong>code</strong> &#8211; <tt class="docutils literal"><span class="pre">dict(kernel,</span> <span class="pre">functions)</span></tt> with kernel code.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-reikna.transpose"></span><dl class="class">
<dt id="reikna.transpose.Transpose">
<em class="property">class </em><tt class="descclassname">reikna.transpose.</tt><tt class="descname">Transpose</tt><big>(</big><em>ctx</em>, <em>debug=False</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#reikna.transpose.Transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the order of axes in a multidimensional array.
Works analogous to <tt class="xref py py-func docutils literal"><span class="pre">numpy.transpose()</span></tt>.</p>
<dl class="method">
<dt id="reikna.transpose.Transpose.prepare_for">
<tt class="descname">prepare_for</tt><big>(</big><em>output</em>, <em>input</em>, <em>axes=None</em><big>)</big><a class="headerlink" href="#reikna.transpose.Transpose.prepare_for" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>output</strong> &#8211; output array</li>
<li><strong>input</strong> &#8211; input array</li>
<li><strong>axes</strong> &#8211; tuple with the new axes order.
If <tt class="docutils literal"><span class="pre">None</span></tt>, then axes will be reversed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-reikna.reduce"></span><dl class="class">
<dt id="reikna.reduce.Reduce">
<em class="property">class </em><tt class="descclassname">reikna.reduce.</tt><tt class="descname">Reduce</tt><big>(</big><em>ctx</em>, <em>debug=False</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#reikna.reduce.Reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduces the array over given axis using given binary operation.</p>
<dl class="method">
<dt id="reikna.reduce.Reduce.prepare_for">
<tt class="descname">prepare_for</tt><big>(</big><em>output</em>, <em>input</em>, <em>axis=None</em>, <em>code=SUM</em><big>)</big><a class="headerlink" href="#reikna.reduce.Reduce.prepare_for" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>output</strong> &#8211; output buffer</li>
<li><strong>input</strong> &#8211; input buffer</li>
<li><strong>axis</strong> &#8211; axis over which reduction is performed.
If <tt class="docutils literal"><span class="pre">None</span></tt>, the whole array will be reduced to a single element.</li>
<li><strong>code</strong> &#8211; dictionary {kernel, functions} with the reduction code.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="reikna.fft.FFT">
<em class="property">class </em><tt class="descclassname">reikna.fft.</tt><tt class="descname">FFT</tt><big>(</big><em>ctx</em>, <em>debug=False</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#reikna.fft.FFT" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the Fast Fourier Transform.
The interface is similar to <tt class="xref py py-class docutils literal"><span class="pre">numpy.fft.fftn</span></tt>.
The inverse transform is normalized so that <tt class="docutils literal"><span class="pre">IFFT(FFT(X))</span> <span class="pre">=</span> <span class="pre">X</span></tt>.</p>
<dl class="method">
<dt id="reikna.fft.FFT.prepare_for">
<tt class="descname">prepare_for</tt><big>(</big><em>output</em>, <em>input</em>, <em>direction</em>, <em>axes=None</em><big>)</big><a class="headerlink" href="#reikna.fft.FFT.prepare_for" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>output</strong> &#8211; output array.</li>
<li><strong>input</strong> &#8211; input array (with the same size as <tt class="docutils literal"><span class="pre">output</span></tt>).</li>
<li><strong>direction</strong> &#8211; <tt class="docutils literal"><span class="pre">-1</span></tt> for forward transform, <tt class="docutils literal"><span class="pre">1</span></tt> for inverse transform.</li>
<li><strong>axes</strong> &#8211; a tuple with axes over which to perform the transform.
If not given, the transform is performed over all the axes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Current algorithm works most effectively with array dimensions being power of 2
This mostly applies to the axes over which the transform is performed,
beacuse otherwise the computation falls back to the Bluestein&#8217;s algorithm,
which effectively halves the performance.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="reikna.dht.get_spatial_grid">
<tt class="descclassname">reikna.dht.</tt><tt class="descname">get_spatial_grid</tt><big>(</big><em>modes</em>, <em>order</em>, <em>add_points=0</em><big>)</big><a class="headerlink" href="#reikna.dht.get_spatial_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the spatial grid required to calculate the <tt class="docutils literal"><span class="pre">order</span></tt> power of a function
defined in the harmonic mode space of the size <tt class="docutils literal"><span class="pre">modes</span></tt>.
If <tt class="docutils literal"><span class="pre">add_points</span></tt> is 0, the grid has the minimum size required for exact
transformation back to the mode space.</p>
</dd></dl>

<dl class="function">
<dt id="reikna.dht.harmonic">
<tt class="descclassname">reikna.dht.</tt><tt class="descname">harmonic</tt><big>(</big><em>mode</em><big>)</big><a class="headerlink" href="#reikna.dht.harmonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an eigenfunction of order <span class="math">\(n = \mathrm{mode}\)</span> for the harmonic oscillator:</p>
<div class="math">
\[\phi_{n}
= \frac{1}{\sqrt[4]{\pi} \sqrt{2^n n!}} H_n(x) \exp(-x^2/2),\]</div>
<p>where <span class="math">\(H_n\)</span> is the <span class="math">\(n\)</span>-th order &#8220;physicists&#8217;&#8221; Hermite polynomial.
The normalization is chosen so that <span class="math">\(\int \phi_n^2(x) dx = 1\)</span>.</p>
</dd></dl>

<dl class="class">
<dt id="reikna.dht.DHT">
<em class="property">class </em><tt class="descclassname">reikna.dht.</tt><tt class="descname">DHT</tt><big>(</big><em>ctx</em>, <em>debug=False</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#reikna.dht.DHT" title="Permalink to this definition">¶</a></dt>
<dd><p>Discrete transform to and from harmonic oscillator modes.
With <tt class="docutils literal"><span class="pre">inverse=True</span></tt> transforms a function defined by its expansion
<span class="math">\(C_m,\,m=0 \ldots M-1\)</span> in the mode space with mode functions
from <a class="reference internal" href="#reikna.dht.harmonic" title="reikna.dht.harmonic"><tt class="xref py py-func docutils literal"><span class="pre">harmonic()</span></tt></a>,
to the coordinate space (<span class="math">\(F(x)\)</span> on the grid <span class="math">\(x\)</span>
from <a class="reference internal" href="#reikna.dht.get_spatial_grid" title="reikna.dht.get_spatial_grid"><tt class="xref py py-func docutils literal"><span class="pre">get_spatial_grid()</span></tt></a>).
With <tt class="docutils literal"><span class="pre">inverse=False</span></tt> guarantees to recover first <span class="math">\(M\)</span> modes of <span class="math">\(F^k(x)\)</span>,
where <span class="math">\(k\)</span> is the <tt class="docutils literal"><span class="pre">order</span></tt> parameter.</p>
<p>For multiple dimensions the operation is the same,
and the mode functions are products of 1D mode functions, i.e.
<span class="math">\(\phi_{l,m,n}^{3D}(x,y,z) = \phi_l(x) \phi_m(y) \phi_n(z)\)</span>.</p>
<p>For the detailed description of the algorithm, see Dion &amp; Cances,
<a class="reference external" href="http://dx.doi.org/10.1103/PhysRevE.67.046706">PRE 67(4) 046706 (2003)</a></p>
<dl class="method">
<dt id="reikna.dht.DHT.prepare_for">
<tt class="descname">prepare_for</tt><big>(</big><em>output</em>, <em>input</em>, <em>inverse=False</em>, <em>order=1</em>, <em>axes=None</em><big>)</big><a class="headerlink" href="#reikna.dht.DHT.prepare_for" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>output</strong> &#8211; output array.
If <tt class="docutils literal"><span class="pre">inverse=False</span></tt>, its shape is used to define the mode space size.</li>
<li><strong>input</strong> &#8211; input array.
If <tt class="docutils literal"><span class="pre">inverse=True</span></tt>, its shape is used to define the mode space size.</li>
<li><strong>inverse</strong> &#8211; <tt class="docutils literal"><span class="pre">False</span></tt> for forward (coordinate space -&gt; mode space) transform,
<tt class="docutils literal"><span class="pre">True</span></tt> for inverse (mode space -&gt; coordinate space) transform.</li>
<li><strong>axes</strong> &#8211; a tuple with axes over which to perform the transform.
If not given, the transform is performed over all the axes.</li>
<li><strong>order</strong> &#8211; if <tt class="docutils literal"><span class="pre">F</span></tt> is a function in mode space, the number of spatial points
is chosen so that the transformation <tt class="docutils literal"><span class="pre">DHT[(DHT^{-1}[F])^order]</span></tt> could be performed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="core.html"
                        title="previous chapter">Core classes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="transformations.html"
                        title="next chapter">Transformations</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/computations.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="transformations.html" title="Transformations"
             >next</a> |</li>
        <li class="right" >
          <a href="core.html" title="Core classes"
             >previous</a> |</li>
        <li><a href="../index.html">reikna 0.3.0+dev.61e7260 documentation</a> &raquo;</li>
          <li><a href="index.html" >API reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2013, Bogdan Opanchuk.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>
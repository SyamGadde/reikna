<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Core functionality &mdash; reikna 0.3.2+dev.3647c35 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3.2+dev.3647c35',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="reikna 0.3.2+dev.3647c35 documentation" href="../index.html" />
    <link rel="up" title="API reference" href="index.html" />
    <link rel="next" title="Computations" href="computations.html" />
    <link rel="prev" title="CLUDA layer" href="cluda.html" />
 
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34054312-1']);
    _gaq.push(['_setDomainName', 'publicfields.net']);
    _gaq.push(['_trackPageview']);

    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="computations.html" title="Computations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cluda.html" title="CLUDA layer"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">reikna 0.3.2+dev.3647c35 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="core-functionality">
<h1>Core functionality<a class="headerlink" href="#core-functionality" title="Permalink to this headline">¶</a></h1>
<p>Classes necessary to create computations and transformations are exposed from the <a class="reference internal" href="#module-reikna.core" title="reikna.core"><tt class="xref py py-mod docutils literal"><span class="pre">core</span></tt></a> module.</p>
<span class="target" id="module-reikna.core"></span><div class="section" id="computation-signatures">
<h2>Computation signatures<a class="headerlink" href="#computation-signatures" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="reikna.core.Type">
<em class="property">class </em><tt class="descclassname">reikna.core.</tt><tt class="descname">Type</tt><big>(</big><em>dtype</em>, <em>shape=None</em>, <em>strides=None</em><big>)</big><a class="headerlink" href="#reikna.core.Type" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an array or, as a degenerate case, scalar type of a computation parameter.</p>
<dl class="attribute">
<dt id="reikna.core.Type.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#reikna.core.Type.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>A tuple of integers.
Scalars are represented by an empty tuple.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.Type.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#reikna.core.Type.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>A <tt class="docutils literal"><span class="pre">numpy.dtype</span></tt> instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.Type.ctype">
<tt class="descname">ctype</tt><a class="headerlink" href="#reikna.core.Type.ctype" title="Permalink to this definition">¶</a></dt>
<dd><p>A string with the name of C type corresponding to <a class="reference internal" href="#reikna.core.Type.dtype" title="reikna.core.Type.dtype"><tt class="xref py py-attr docutils literal"><span class="pre">dtype</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.Type.strides">
<tt class="descname">strides</tt><a class="headerlink" href="#reikna.core.Type.strides" title="Permalink to this definition">¶</a></dt>
<dd><p>Tuple of bytes to step in each dimension when traversing an array.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.Type.__call__">
<tt class="descname">__call__</tt><big>(</big><em>val</em><big>)</big><a class="headerlink" href="#reikna.core.Type.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts the given value to this type.</p>
</dd></dl>

<dl class="classmethod">
<dt id="reikna.core.Type.from_value">
<em class="property">classmethod </em><tt class="descname">from_value</tt><big>(</big><em>val</em><big>)</big><a class="headerlink" href="#reikna.core.Type.from_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <a class="reference internal" href="#reikna.core.Type" title="reikna.core.Type"><tt class="xref py py-class docutils literal"><span class="pre">Type</span></tt></a> object corresponding to the given value.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="reikna.core.Annotation">
<em class="property">class </em><tt class="descclassname">reikna.core.</tt><tt class="descname">Annotation</tt><big>(</big><em>type_</em>, <em>role=None</em><big>)</big><a class="headerlink" href="#reikna.core.Annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Computation parameter annotation,
in the same sense as it is used for functions in the standard library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> &#8211; a <a class="reference internal" href="#reikna.core.Type" title="reikna.core.Type"><tt class="xref py py-class docutils literal"><span class="pre">Type</span></tt></a> object.</li>
<li><strong>role</strong> &#8211; any of <tt class="docutils literal"><span class="pre">'i'</span></tt> (input), <tt class="docutils literal"><span class="pre">'o'</span></tt> (output),
<tt class="docutils literal"><span class="pre">'io'</span></tt> (input/output), <tt class="docutils literal"><span class="pre">'s'</span></tt> (scalar).
Defaults to <tt class="docutils literal"><span class="pre">'s'</span></tt> for scalars and <tt class="docutils literal"><span class="pre">'io'</span></tt> for arrays.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="reikna.core.Parameter">
<em class="property">class </em><tt class="descclassname">reikna.core.</tt><tt class="descname">Parameter</tt><big>(</big><em>name</em>, <em>annotation</em>, <em>default=&lt;class 'funcsigs._empty'&gt;</em><big>)</big><a class="headerlink" href="#reikna.core.Parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Computation parameter,
in the same sense as it is used for functions in the standard library.
In its terms, all computation parameters have kind <tt class="docutils literal"><span class="pre">POSITIONAL_OR_KEYWORD</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; parameter name.</li>
<li><strong>annotation</strong> &#8211; an <a class="reference internal" href="#reikna.core.Annotation" title="reikna.core.Annotation"><tt class="xref py py-class docutils literal"><span class="pre">Annotation</span></tt></a> object.</li>
<li><strong>default</strong> &#8211; default value for the parameter, can only be specified for scalars.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="reikna.core.Parameter.rename">
<tt class="descname">rename</tt><big>(</big><em>new_name</em><big>)</big><a class="headerlink" href="#reikna.core.Parameter.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#reikna.core.Parameter" title="reikna.core.Parameter"><tt class="xref py py-class docutils literal"><span class="pre">Parameter</span></tt></a> object with the new name
and the same annotation and default value.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="reikna.core.Signature">
<em class="property">class </em><tt class="descclassname">reikna.core.</tt><tt class="descname">Signature</tt><big>(</big><em>parameters</em><big>)</big><a class="headerlink" href="#reikna.core.Signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Computation signature,
in the same sense as it is used for functions in the standard library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parameters</strong> &#8211; a list of <a class="reference internal" href="#reikna.core.Parameter" title="reikna.core.Parameter"><tt class="xref py py-class docutils literal"><span class="pre">Parameter</span></tt></a> objects.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="reikna.core.Signature.parameters">
<tt class="descname">parameters</tt><a class="headerlink" href="#reikna.core.Signature.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>An <tt class="docutils literal"><span class="pre">OrderedDict</span></tt> with <a class="reference internal" href="#reikna.core.Parameter" title="reikna.core.Parameter"><tt class="xref py py-class docutils literal"><span class="pre">Parameter</span></tt></a> objects indexed by their names.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.Signature.bind_with_defaults">
<tt class="descname">bind_with_defaults</tt><big>(</big><em>args</em>, <em>kwds</em>, <em>cast=False</em><big>)</big><a class="headerlink" href="#reikna.core.Signature.bind_with_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds passed positional and keyword arguments to parameters in the signature and
returns the resulting <tt class="docutils literal"><span class="pre">BoundArguments</span></tt> object.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="core-classes">
<h2>Core classes<a class="headerlink" href="#core-classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="reikna.core.Computation">
<em class="property">class </em><tt class="descclassname">reikna.core.</tt><tt class="descname">Computation</tt><big>(</big><em>root_parameters</em><big>)</big><a class="headerlink" href="#reikna.core.Computation" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class for computations, intended to be subclassed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>root_parameters</strong> &#8211; a list of <a class="reference internal" href="#reikna.core.Parameter" title="reikna.core.Parameter"><tt class="xref py py-class docutils literal"><span class="pre">Parameter</span></tt></a> objects.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="reikna.core.Computation.signature">
<tt class="descname">signature</tt><a class="headerlink" href="#reikna.core.Computation.signature" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#reikna.core.Signature" title="reikna.core.Signature"><tt class="xref py py-class docutils literal"><span class="pre">Signature</span></tt></a> object representing current computation signature
(taking into account connected transformations).</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.Computation.parameter">
<tt class="descname">parameter</tt><a class="headerlink" href="#reikna.core.Computation.parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>A named tuple of <a class="reference internal" href="#reikna.core.computation.ComputationParameter" title="reikna.core.computation.ComputationParameter"><tt class="xref py py-class docutils literal"><span class="pre">ComputationParameter</span></tt></a> objects
corresponding to parameters from the current <a class="reference internal" href="#reikna.core.Computation.signature" title="reikna.core.Computation.signature"><tt class="xref py py-attr docutils literal"><span class="pre">signature</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.Computation._build_plan">
<tt class="descname">_build_plan</tt><big>(</big><em>plan_factory</em>, <em>device_params</em>, <em>*args</em><big>)</big><a class="headerlink" href="#reikna.core.Computation._build_plan" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived classes override this method.
It is called by <a class="reference internal" href="#reikna.core.Computation.compile" title="reikna.core.Computation.compile"><tt class="xref py py-meth docutils literal"><span class="pre">compile()</span></tt></a> and
supposed to return a <a class="reference internal" href="#reikna.core.computation.ComputationPlan" title="reikna.core.computation.ComputationPlan"><tt class="xref py py-class docutils literal"><span class="pre">ComputationPlan</span></tt></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>plan_factory</strong> &#8211; a callable returning a new
<a class="reference internal" href="#reikna.core.computation.ComputationPlan" title="reikna.core.computation.ComputationPlan"><tt class="xref py py-class docutils literal"><span class="pre">ComputationPlan</span></tt></a> object.</li>
<li><strong>device_params</strong> &#8211; a <a class="reference internal" href="cluda.html#reikna.cluda.api.DeviceParameters" title="reikna.cluda.api.DeviceParameters"><tt class="xref py py-class docutils literal"><span class="pre">DeviceParameters</span></tt></a> object corresponding
to the thread the computation is being compiled for.</li>
<li><strong>args</strong> &#8211; <a class="reference internal" href="#reikna.core.computation.KernelArgument" title="reikna.core.computation.KernelArgument"><tt class="xref py py-class docutils literal"><span class="pre">KernelArgument</span></tt></a> objects,
corresponding to <tt class="docutils literal"><span class="pre">parameters</span></tt> specified during the creation
of this computation object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="reikna.core.Computation._update_attributes">
<tt class="descname">_update_attributes</tt><big>(</big><big>)</big><a class="headerlink" href="#reikna.core.Computation._update_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates <tt class="docutils literal"><span class="pre">signature</span></tt> and <tt class="docutils literal"><span class="pre">parameter</span></tt> attributes.
Called by the methods that change the signature.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.Computation.compile">
<tt class="descname">compile</tt><big>(</big><em>thread</em><big>)</big><a class="headerlink" href="#reikna.core.Computation.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles the computation with the given <a class="reference internal" href="cluda.html#reikna.cluda.api.Thread" title="reikna.cluda.api.Thread"><tt class="xref py py-class docutils literal"><span class="pre">Thread</span></tt></a> object
and returns a <a class="reference internal" href="#reikna.core.computation.ComputationCallable" title="reikna.core.computation.ComputationCallable"><tt class="xref py py-class docutils literal"><span class="pre">ComputationCallable</span></tt></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.Computation.connect">
<tt class="descname">connect</tt><big>(</big><em>_comp_connector</em>, <em>_trf</em>, <em>_tr_connector</em>, <em>**tr_from_comp</em><big>)</big><a class="headerlink" href="#reikna.core.Computation.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect a transformation to the computation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>_comp_connector</strong> &#8211; connection target &#8212;
a <a class="reference internal" href="#reikna.core.computation.ComputationParameter" title="reikna.core.computation.ComputationParameter"><tt class="xref py py-class docutils literal"><span class="pre">ComputationParameter</span></tt></a> object
beloning to this computation object, or a string with its name.</li>
<li><strong>_trf</strong> &#8211; a <a class="reference internal" href="#reikna.core.Transformation" title="reikna.core.Transformation"><tt class="xref py py-class docutils literal"><span class="pre">Transformation</span></tt></a> object.</li>
<li><strong>_tr_connector</strong> &#8211; connector on the side of the transformation &#8212;
a <a class="reference internal" href="#reikna.core.transformation.TransformationParameter" title="reikna.core.transformation.TransformationParameter"><tt class="xref py py-class docutils literal"><span class="pre">TransformationParameter</span></tt></a> object
beloning to <tt class="docutils literal"><span class="pre">tr</span></tt>, or a string with its name.</li>
<li><strong>tr_from_comp</strong> &#8211; a dictionary with the names of new or old
computation parameters as keys, and
<a class="reference internal" href="#reikna.core.transformation.TransformationParameter" title="reikna.core.transformation.TransformationParameter"><tt class="xref py py-class docutils literal"><span class="pre">TransformationParameter</span></tt></a> objects
(or their names) as values.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">this computation object (modified).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="reikna.core.Transformation">
<em class="property">class </em><tt class="descclassname">reikna.core.</tt><tt class="descname">Transformation</tt><big>(</big><em>parameters</em>, <em>code</em>, <em>render_kwds=None</em>, <em>connectors=None</em><big>)</big><a class="headerlink" href="#reikna.core.Transformation" title="Permalink to this definition">¶</a></dt>
<dd><p>A class containing a pure parallel transformation of arrays.
Some restrictions apply:</p>
<ul class="simple">
<li>it cannot use local memory;</li>
<li>it cannot use global/local id getters (and depends only on externally passed indices);</li>
<li>it cannot have <tt class="docutils literal"><span class="pre">'io'</span></tt> arguments;</li>
<li>it has at least one argument that uses
<a class="reference internal" href="#reikna.core.transformation.KernelParameter.load_same" title="reikna.core.transformation.KernelParameter.load_same"><tt class="xref py py-attr docutils literal"><span class="pre">load_same</span></tt></a> or
<a class="reference internal" href="#reikna.core.transformation.KernelParameter.store_same" title="reikna.core.transformation.KernelParameter.store_same"><tt class="xref py py-attr docutils literal"><span class="pre">store_same</span></tt></a>, and does it only once.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parameters</strong> &#8211; a list of <a class="reference internal" href="#reikna.core.Parameter" title="reikna.core.Parameter"><tt class="xref py py-class docutils literal"><span class="pre">Parameter</span></tt></a> objects.</li>
<li><strong>code</strong> &#8211; a source template for the transformation.
Will be wrapped in a template def with positional arguments with the names of
objects in <tt class="docutils literal"><span class="pre">parameters</span></tt>.</li>
<li><strong>render_kwds</strong> &#8211; a dictionary with render keywords that will be passed to the snippet.</li>
<li><strong>connectors</strong> &#8211; a list of parameter names suitable for connection.
Defaults to all non-scalar parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-reikna.core.computation">
<span id="result-and-attribute-classes"></span><h2>Result and attribute classes<a class="headerlink" href="#module-reikna.core.computation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="reikna.core.computation.ComputationCallable">
<em class="property">class </em><tt class="descclassname">reikna.core.computation.</tt><tt class="descname">ComputationCallable</tt><big>(</big><em>parameters</em>, <em>kernel_calls</em>, <em>internal_args</em>, <em>temp_buffers</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationCallable" title="Permalink to this definition">¶</a></dt>
<dd><p>A result of calling <a class="reference internal" href="#reikna.core.Computation.compile" title="reikna.core.Computation.compile"><tt class="xref py py-meth docutils literal"><span class="pre">compile()</span></tt></a> on a computation.
Represents a callable opaque GPGPU computation.</p>
<dl class="attribute">
<dt id="reikna.core.computation.ComputationCallable.signature">
<tt class="descname">signature</tt><a class="headerlink" href="#reikna.core.computation.ComputationCallable.signature" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#reikna.core.Signature" title="reikna.core.Signature"><tt class="xref py py-class docutils literal"><span class="pre">Signature</span></tt></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.computation.ComputationCallable.parameter">
<tt class="descname">parameter</tt><a class="headerlink" href="#reikna.core.computation.ComputationCallable.parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>A named tuple of <a class="reference internal" href="#reikna.core.Type" title="reikna.core.Type"><tt class="xref py py-class docutils literal"><span class="pre">Type</span></tt></a> objects corresponding
to the callable&#8217;s parameters.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.computation.ComputationCallable.__call__">
<tt class="descname">__call__</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationCallable.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the computation.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="reikna.core.computation.ComputationParameter">
<em class="property">class </em><tt class="descclassname">reikna.core.computation.</tt><tt class="descname">ComputationParameter</tt><a class="headerlink" href="#reikna.core.computation.ComputationParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#reikna.core.Type" title="reikna.core.Type"><tt class="xref py py-class docutils literal"><span class="pre">Type</span></tt></a></p>
<p>Represents a typed computation parameter.
Can be used as a substitute of an array for functions
which are only interested in array metadata.</p>
<dl class="method">
<dt id="reikna.core.computation.ComputationParameter.connect">
<tt class="descname">connect</tt><big>(</big><em>_trf</em>, <em>_tr_connector</em>, <em>**tr_from_comp</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationParameter.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <a class="reference internal" href="#reikna.core.Computation.connect" title="reikna.core.Computation.connect"><tt class="xref py py-meth docutils literal"><span class="pre">connect()</span></tt></a>
with this parameter as a first argument.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="reikna.core.computation.KernelArgument">
<em class="property">class </em><tt class="descclassname">reikna.core.computation.</tt><tt class="descname">KernelArgument</tt><a class="headerlink" href="#reikna.core.computation.KernelArgument" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#reikna.core.Type" title="reikna.core.Type"><tt class="xref py py-class docutils literal"><span class="pre">Type</span></tt></a></p>
<p>Represents an argument suitable to pass to planned kernel or computation call.</p>
</dd></dl>

<dl class="class">
<dt id="reikna.core.computation.ComputationPlan">
<em class="property">class </em><tt class="descclassname">reikna.core.computation.</tt><tt class="descname">ComputationPlan</tt><a class="headerlink" href="#reikna.core.computation.ComputationPlan" title="Permalink to this definition">¶</a></dt>
<dd><p>Computation plan recorder.</p>
<dl class="method">
<dt id="reikna.core.computation.ComputationPlan.computation_call">
<tt class="descname">computation_call</tt><big>(</big><em>computation</em>, <em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationPlan.computation_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a nested computation call.
The <tt class="docutils literal"><span class="pre">computation</span></tt> value must be a <a class="reference internal" href="#reikna.core.Computation" title="reikna.core.Computation"><tt class="xref py py-class docutils literal"><span class="pre">Computation</span></tt></a> object.
<tt class="docutils literal"><span class="pre">args</span></tt> and <tt class="docutils literal"><span class="pre">kwds</span></tt> are values to be passed to the computation.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.computation.ComputationPlan.kernel_call">
<tt class="descname">kernel_call</tt><big>(</big><em>template_def</em>, <em>args</em>, <em>global_size</em>, <em>local_size=None</em>, <em>render_kwds=None</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationPlan.kernel_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a kernel call to the plan.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>template_def</strong> &#8211; Mako template def for the kernel.</li>
<li><strong>args</strong> &#8211; a list consisting of
<a class="reference internal" href="#reikna.core.computation.KernelArgument" title="reikna.core.computation.KernelArgument"><tt class="xref py py-class docutils literal"><span class="pre">KernelArgument</span></tt></a> objects,
or scalar values wrapped in <tt class="docutils literal"><span class="pre">numpy.ndarray</span></tt>,
that are going to be passed to the kernel during execution.</li>
<li><strong>global_size</strong> &#8211; global size to use for the call.</li>
<li><strong>local_size</strong> &#8211; local size to use for the call.
If <tt class="docutils literal"><span class="pre">None</span></tt>, the local size will be picked automatically.</li>
<li><strong>render_kwds</strong> &#8211; dictionary with additional values used to render the template.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="reikna.core.computation.ComputationPlan.persistent_array">
<tt class="descname">persistent_array</tt><big>(</big><em>arr</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationPlan.persistent_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a persistent GPU array to the plan, and returns the corresponding
<a class="reference internal" href="#reikna.core.computation.KernelArgument" title="reikna.core.computation.KernelArgument"><tt class="xref py py-class docutils literal"><span class="pre">KernelArgument</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.computation.ComputationPlan.temp_array">
<tt class="descname">temp_array</tt><big>(</big><em>shape</em>, <em>dtype</em>, <em>strides=None</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationPlan.temp_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a temporary GPU array to the plan, and returns the corresponding
<a class="reference internal" href="#reikna.core.computation.KernelArgument" title="reikna.core.computation.KernelArgument"><tt class="xref py py-class docutils literal"><span class="pre">KernelArgument</span></tt></a>.
Temporary arrays can share physical memory, but in such a way that
their contents is guaranteed to persist between the first and the last use in a kernel
during the execution of the plan.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.computation.ComputationPlan.temp_array_like">
<tt class="descname">temp_array_like</tt><big>(</big><em>arr</em><big>)</big><a class="headerlink" href="#reikna.core.computation.ComputationPlan.temp_array_like" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#reikna.core.computation.ComputationPlan.temp_array" title="reikna.core.computation.ComputationPlan.temp_array"><tt class="xref py py-meth docutils literal"><span class="pre">temp_array()</span></tt></a>, taking the array properties
from array or array-like object <tt class="docutils literal"><span class="pre">arr</span></tt>.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-reikna.core.transformation"></span><dl class="class">
<dt id="reikna.core.transformation.TransformationParameter">
<em class="property">class </em><tt class="descclassname">reikna.core.transformation.</tt><tt class="descname">TransformationParameter</tt><big>(</big><em>trf</em>, <em>name</em>, <em>type_</em><big>)</big><a class="headerlink" href="#reikna.core.transformation.TransformationParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#reikna.core.Type" title="reikna.core.Type"><tt class="xref py py-class docutils literal"><span class="pre">Type</span></tt></a></p>
<p>Represents a typed transformation parameter.
Can be used as a substitute of an array for functions
which are only interested in array metadata.</p>
</dd></dl>

<dl class="class">
<dt id="reikna.core.transformation.KernelParameter">
<em class="property">class </em><tt class="descclassname">reikna.core.transformation.</tt><tt class="descname">KernelParameter</tt><a class="headerlink" href="#reikna.core.transformation.KernelParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#reikna.core.Type" title="reikna.core.Type"><tt class="xref py py-class docutils literal"><span class="pre">Type</span></tt></a></p>
<p>Providing an interface for accessing kernel arguments in a template.
Depending on the parameter type, and whether it is used
inside a computation or a transformation template,
can have different load/store attributes available.</p>
<dl class="attribute">
<dt id="reikna.core.transformation.KernelParameter.name">
<tt class="descname">name</tt><a class="headerlink" href="#reikna.core.transformation.KernelParameter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter name</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.transformation.KernelParameter.__str__">
<tt class="descname">__str__</tt><big>(</big><big>)</big><a class="headerlink" href="#reikna.core.transformation.KernelParameter.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the C kernel parameter name corresponding to this parameter.
It is the only method available for scalar parameters.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.transformation.KernelParameter.load_idx">
<tt class="descname">load_idx</tt><a class="headerlink" href="#reikna.core.transformation.KernelParameter.load_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>A module providing a macro with the signature <tt class="docutils literal"><span class="pre">(idx0,</span> <span class="pre">idx1,</span> <span class="pre">...)</span></tt>,
returning the corresponding element of the array.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.transformation.KernelParameter.store_idx">
<tt class="descname">store_idx</tt><a class="headerlink" href="#reikna.core.transformation.KernelParameter.store_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>A module providing a macro with the signature <tt class="docutils literal"><span class="pre">(idx0,</span> <span class="pre">idx1,</span> <span class="pre">...,</span> <span class="pre">val)</span></tt>,
saving <tt class="docutils literal"><span class="pre">val</span></tt> into the specified position.</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.transformation.KernelParameter.load_combined_idx">
<tt class="descname">load_combined_idx</tt><big>(</big><em>slices</em><big>)</big><a class="headerlink" href="#reikna.core.transformation.KernelParameter.load_combined_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>A module providing a macro with the signature <tt class="docutils literal"><span class="pre">(cidx0,</span> <span class="pre">cidx1,</span> <span class="pre">...)</span></tt>,
returning the element of the array corresponding to the new slicing of indices
(e.g. an array with shape <tt class="docutils literal"><span class="pre">(2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6)</span></tt> sliced as <tt class="docutils literal"><span class="pre">slices=(2,</span> <span class="pre">2,</span> <span class="pre">1)</span></tt>
is indexed as an array with shape <tt class="docutils literal"><span class="pre">(6,</span> <span class="pre">20,</span> <span class="pre">6)</span></tt>).</p>
</dd></dl>

<dl class="method">
<dt id="reikna.core.transformation.KernelParameter.store_combined_idx">
<tt class="descname">store_combined_idx</tt><big>(</big><em>slices</em><big>)</big><a class="headerlink" href="#reikna.core.transformation.KernelParameter.store_combined_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>A module providing a macro with the signature <tt class="docutils literal"><span class="pre">(cidx0,</span> <span class="pre">cidx1,</span> <span class="pre">...,</span> <span class="pre">val)</span></tt>,
saving <tt class="docutils literal"><span class="pre">val</span></tt> into the specified position
corresponding to the new slicing of indices.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.transformation.KernelParameter.load_same">
<tt class="descname">load_same</tt><a class="headerlink" href="#reikna.core.transformation.KernelParameter.load_same" title="Permalink to this definition">¶</a></dt>
<dd><p>A module providing a macro that returns the element of the array
corresponding to the indices used by the caller of the transformation.</p>
</dd></dl>

<dl class="attribute">
<dt id="reikna.core.transformation.KernelParameter.store_same">
<tt class="descname">store_same</tt><a class="headerlink" href="#reikna.core.transformation.KernelParameter.store_same" title="Permalink to this definition">¶</a></dt>
<dd><p>A module providing a macro with the signature <tt class="docutils literal"><span class="pre">(val)</span></tt> that stores <tt class="docutils literal"><span class="pre">val</span></tt>
using the indices used by the caller of the transformation.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Core functionality</a><ul>
<li><a class="reference internal" href="#computation-signatures">Computation signatures</a></li>
<li><a class="reference internal" href="#core-classes">Core classes</a></li>
<li><a class="reference internal" href="#module-reikna.core.computation">Result and attribute classes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cluda.html"
                        title="previous chapter">CLUDA layer</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="computations.html"
                        title="next chapter">Computations</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/core.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="computations.html" title="Computations"
             >next</a> |</li>
        <li class="right" >
          <a href="cluda.html" title="CLUDA layer"
             >previous</a> |</li>
        <li><a href="../index.html">reikna 0.3.2+dev.3647c35 documentation</a> &raquo;</li>
          <li><a href="index.html" >API reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2013, Bogdan Opanchuk.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>